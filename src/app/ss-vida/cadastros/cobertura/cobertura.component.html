<!-- Tela de Pesquisar Fornecedores  -->
<div class="mainContent">
  <h5>Pesquisar Cobertura</h5>
  <div class="boxNext row">
    <a class="waves-effect waves-light btn nextButton btnNext" (click)="cadastrarCobertura()"><i class="material-icons left">send</i>Cadastrar</a>
  </div>
  
  <div class="clearfix"></div>
  <!-- (acr) Botão para testes de serviços. <button type="button" class="waves-effect waves-light btn btnPrimary" (click)="testarServicosIntegrados()">Testar Serviços</button> -->
  <div class="col s12">
    <form class="form-horizontal" [formGroup]="formulario" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="input-field col s4">
          <label>Código</label>
          <input id="codigoCobertura" name="codigoCobertura" type="text" formControlName="codigoCobertura" [textMask]="constantesService.getMaskDef().numerico(4)">
        </div>
        
        <div class="input-field col s4">
          <label for="sigla">Sigla</label>
          <input id="sigla" name="sigla" type="text" formControlName="sigla" [textMask]="constantesService.getMaskDef().alfaNumericoSimples(5)">
        </div>
        <div class="input-field col s4">
          <label for="nome">Nome da Cobertura</label>
          <input id="nome" name="nome" type="text" formControlName="nome" [textMask]="constantesService.getMaskDef().alfaNumerico(20)">
        </div>
        <div class="clearfix"></div>
        
        <div class="box-buttons">
          <button type="submit" class="waves-effect waves-light btn btnPrimary">Pesquisar</button>
        </div>
        <div class="grid-divider"></div>

        <div class="row">
          <table class="striped" *ngIf="retorno && retorno.length > 0">
            <thead>
              <tr>
                <th>Código</th>
                <th>Sigla</th>
                <th>Nome de impressão</th>
                <th>Nome da cobertura</th>
                <th>Descrição da garantia</th>
                <th>Beneficiário da cobertura</th>
                <th>Data de diagnóstico?</th>
                <th>Cálculo de indenização</th>
                <th>Início de vigência</th>
                <th>Situação *</th>
                <th>Segurado da cobertura</th>
                <th>Ações</th>
              </tr>
            </thead>
            
            <tbody>
              <tr *ngFor='let i of retorno; trackBy: index;'>
                <td>{{i.codigo}}</td>
                <td>{{i.sigla}}</td>
                <td>{{i.nomeImpressao}}</td>
                <td>{{i.descricao}}</td>
                <td>{{i.descricaoGarantia}}</td>
                <td>{{i.tipoBeneficiario.descricao}}</td>
                <td>{{i.indicadorDataDiagnostico.descricao}}</td>
                <td>{{i.indicadorCalculoIndenizacao.descricao}}</td>
                <td>{{i.dataInicioVigencia | date:constantesService.getFormatoDataP()}}</td>
                <td>{{i.status.descricao}}</td>
                <td>{{i.tipoSegurado.descricao}}</td>
                <td>
                  <a materialize="tooltip" data-tooltip="Visualizar" class="view tooltipped" data-position="left" data-delay="10" (click)="visualizarCobertura(i.codigo)"><i class="material-icons actionButtons">search</i></a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        
      </div>
    </form>
  </div>
</div>
<!-- ############# FIM DA TELA DE PESQUISAR FORNECEDORES ################ -->